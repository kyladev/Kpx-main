<!doctypehtml><link id="css1"rel="stylesheet"><style id="css2"></style><style id="css3"></style><style id="css4"></style><style id="css5"></style><title id="title"></title><link id="ficon"rel="icon"type="image/x-icon"><script id="script1"></script><script id="script2"></script><div id="loading-screen"><div class="loader"></div><p id="loading-text">Initializing...</div><style id="loading-css">#loading-screen{z-index:100000;position:fixed;top:0;left:0;width:100%;height:100%;background:#0e0e0e;color:#e0e0e0;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;font-family:sans-serif}.loader{border:6px solid #333;border-top:6px solid #0fc;border-radius:50%;width:48px;height:48px;animation:spin .5s linear infinite;margin-bottom:16px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#loading-text{font-size:1rem;text-align:center;max-width:80%}</style><script type="module"src="./e2ee/dist/e2ee.esm.js"></script><script type="module">function e(n,o){const i=t();return(e=function(e,t){return i[e-=268]})(n,o)}function t(){const e=["857013kyYBai","83104HHPXdh",'Target element "',"origin","result","set","decrypt","json","gif","3940409CgjOWi","location","close","searchParams","target","write","/e2ee","split","iframe","getFile","12YvEgrx","Expected a <style> element for CSS injection","tagName","/e2ee/file","createObjectURL","POST",'" not found',"toLowerCase","html","string","setRemotePublicKey","jpeg","201430LOuQnu","status","css","Only HTML files can be injected with this function","jpg","txt","8hwInEJ","Expected a <script> element for JS injection","exportPublicKey","Target element must be an <iframe> or document","2TbTbhl","text/html","revokeObjectURL","charCodeAt","261mbrcaG","325695eKEPAI","application/json","length","ciphertext","stringify","File request failed: ","textContent","generateKeyPair","parse","Unsupported file type for DOM injection: ","486UBuOYB","1112AeYyym","onload","12735ikCvSG","sid","text","encrypt","/session/init","pop","script"];return(t=function(){return e})()}!function(n,o){const i=e,a=t();for(;;)try{if(296465===-parseInt(i(293))/1*(-parseInt(i(288))/2)+-parseInt(i(313))/3*(-parseInt(i(284))/4)+parseInt(i(306))/5*(-parseInt(i(303))/6)+-parseInt(i(314))/7+parseInt(i(304))/8*(-parseInt(i(292))/9)+-parseInt(i(278))/10+-parseInt(i(322))/11*(parseInt(i(332))/12))break;a.push(a.shift())}catch(e){a.push(a.shift())}}();import{E2EE as n}from"./e2ee/dist/e2ee.esm.js";export async function initSession(t){const o=e,i=new n;await i[o(300)]();const a=await i[o(286)](),s=await fetch(o(310),{method:o(271),headers:{"Content-Type":o(294)},body:JSON.stringify({sid:t,clientPub:a})}),{serverPub:r}=await s.json();return await i[o(276)](r),i}export async function postRequest(t,n,o){const i=e,a=await t[i(309)](JSON.stringify(o)),s=await fetch(i(328),{method:i(271),headers:{"Content-Type":i(294)},body:JSON[i(297)]({sid:n,ciphertext:a})}),{ciphertext:r}=await s[i(320)](),c=await t[i(319)](r);return JSON[i(301)](c)}export async function getRequest(t,n,o){const i=e,a=await t[i(309)](JSON[i(297)](o)),s=new URL(i(328),window[i(323)][i(316)]);s.searchParams[i(318)](i(307),n),s.searchParams[i(318)](i(296),a);const r=await fetch(s),{ciphertext:c}=await r[i(320)](),l=await t[i(319)](c);return JSON.parse(l)}export async function readBlobAsText(t){return new Promise(((n,o)=>{const i=e,a=new FileReader;a[i(305)]=e=>{const t=i;n(e[t(326)][t(317)])},a.onerror=e=>{o(e)},a.readAsText(t)}))}export async function fileRequest(t,n,o){const i=e,a={type:i(331),id:o},s=await t.encrypt(JSON[i(297)](a)),r=new URL(i(269),window[i(323)][i(316)]);r[i(325)].set(i(307),n),r[i(325)][i(318)]("ciphertext",s);const c=await fetch(r);if(!c.ok)throw new Error(i(298)+c[i(279)]);const{ciphertext:l}=await c[i(320)](),d=await t.decrypt(l),{filename:m,data:p}=JSON[i(301)](d),u=atob(p),w=new Uint8Array(u[i(295)]);for(let e=0;e<u.length;e++)w[e]=u[i(291)](e);const f=new Blob([w]);let g;switch(m[i(329)](".")[i(311)]()[i(273)]()){case i(280):case i(274):case"js":case i(283):return g=readBlobAsText(f),{filename:m,blob:f,content:g};case i(320):g=await readBlobAsText(f);return{filename:m,blob:f,content:JSON[i(301)](g)};case"png":case i(282):case i(277):case i(321):return{filename:m,blob:f};default:try{return g=await readBlobAsText(f),{filename:m,blob:f,content:g}}catch{return{filename:m,blob:f}}}}export async function injectFileContentToDOM(t,n,o,i){const a=e,{filename:s,content:r}=await fileRequest(t,n,o),c=s.split(".").pop()[a(273)]();if(!i)throw new Error(a(315)+i+'" not found');const l=typeof r===a(275)?r:await r;switch(c){case a(280):if("style"!==i[a(268)][a(273)]())throw new Error(a(333));i.textContent=l;break;case"js":if(i[a(268)][a(273)]()!==a(312))throw new Error(a(285));i[a(299)]=l;break;default:throw new Error(a(302)+c)}return{filename:s,injected:!0}}export async function injectHtmlFileToDOM(t,n,o,i){const a=e,{filename:s,content:r}=await fileRequest(t,n,o);if("html"!==s[a(329)](".")[a(311)]()[a(273)]())throw new Error(a(281));if(!i)throw new Error(a(315)+i+a(272));let c;if(c=typeof r===a(275)?r:r instanceof Blob?await r[a(308)]():await r,i===document)document.open(),document[a(327)](c),document[a(324)]();else{if(i[a(268)][a(273)]()!==a(330))throw new Error(a(287));const e=new Blob([c],{type:a(289)}),t=URL[a(270)](e);i.src=t,i.onload=()=>URL[a(290)](t)}return{filename:s,injected:!0}}(async()=>{document.getElementById("loading-text").innerText="Starting end-to-end encryption session...";const e=crypto.randomUUID(),t=await initSession(e);console.log("initaited E2EE session"),document.getElementById("loading-text").innerText="Bootstrapping files...",await injectFileContentToDOM(t,e,"h-css",document.getElementById("css2")),await injectFileContentToDOM(t,e,"r-css",document.getElementById("css3")),await injectFileContentToDOM(t,e,"p-css",document.getElementById("css4")),await injectFileContentToDOM(t,e,"n-css",document.getElementById("css5")),await injectFileContentToDOM(t,e,"c-js",document.getElementById("script1")),await injectFileContentToDOM(t,e,"p-js",document.getElementById("script2")),document.getElementById("css1").href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,200&icon_names=gamepad,home,info,language,menu,search,settings,view_comfy_alt",document.getElementById("title").innerText="KPX",await injectFileContentToDOM(t,e,"nv2-pjs",document.getElementById("script3")),await injectFileContentToDOM(t,e,"hs-pjs",document.getElementById("script4")),document.getElementById("script5").innerText='add_shortcut("/s?q=Z29vZ2xlLmNvbQ==", "/main/files/assets/googlelogo.png", "Google");add_shortcut_add_button();addnav2();',await injectFileContentToDOM(t,e,"r-js",document.getElementById("script6")),await injectFileContentToDOM(t,e,"h-js",document.getElementById("script7")),document.getElementById("loading-text").innerText="Loading particles.js...",await async function(e,t){return new Promise(((n,o)=>{const i=document.getElementById(e);return i?i.src&&i.src===t?n():(i.src=t,i.onload=()=>n(),void(i.onerror=()=>o(new Error(`Failed to load ${t}`)))):o(new Error(`Element #${e} not found`))}))}("script8","https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"),document.getElementById("loading-text").innerText="Injecting dependent scripts...",await injectFileContentToDOM(t,e,"pj-js",document.getElementById("script9")),await injectFileContentToDOM(t,e,"sp-js",document.getElementById("script10")),document.getElementById("loading-text").innerText="Finalizing...",document.getElementById("loading-screen").style="display:none;",document.getElementById("nav-container").style="",console.log("finished loading"),document.getElementById("loading-screen").remove(),document.getElementById("loading-css").remove()})();</script><div id="particles-js"style="position:absolute;top:0;width:100%;height:100%"><canvas class="particles-js-canvas-el"></canvas></div><div id="nav-container"style="display:none"></div><div id="overlay"><h1 id="webname">KPX</h1><div id="sbar"><input autocomplete="off"id="searchbar"onkeydown="searchkey(event)"placeholder="Search something or enter a URL..."></div><h2 id="shortc">Shortcuts</h2><div id="quicklinks"></div></div><script id="script3"></script><script id="script4"></script><script id="script5"></script><script id="script6"></script><script id="script7"></script><script id="script8"></script><script id="script9"></script><script id="script10"></script>